//
//  ContentView.swift
//  Metal4Render
//
//  Created by gzonelee on 12/4/25.
//
//  Metal 4 삼각형 렌더링 데모의 메인 뷰
//
//  이 파일은 앱의 메인 UI를 정의합니다.
//  MetalView를 전체 화면으로 표시하여 3D 삼각형을 렌더링합니다.
//
//  ┌─────────────────────────────────────────────────────────────────────────┐
//  │                           앱 구조 개요                                   │
//  ├─────────────────────────────────────────────────────────────────────────┤
//  │                                                                         │
//  │   ┌─────────────────────┐                                               │
//  │   │  Metal4RenderApp    │  ◄── @main 진입점                             │
//  │   │  (App Protocol)     │                                               │
//  │   └──────────┬──────────┘                                               │
//  │              │                                                          │
//  │              ▼                                                          │
//  │   ┌─────────────────────┐                                               │
//  │   │    ContentView      │  ◄── 현재 파일                                │
//  │   │   (SwiftUI View)    │                                               │
//  │   └──────────┬──────────┘                                               │
//  │              │                                                          │
//  │              ▼                                                          │
//  │   ┌─────────────────────┐                                               │
//  │   │     MetalView       │  ◄── Metal 렌더링 뷰                          │
//  │   │ (NSView/UIView      │                                               │
//  │   │  Representable)     │                                               │
//  │   └──────────┬──────────┘                                               │
//  │              │                                                          │
//  │              ▼                                                          │
//  │   ┌─────────────────────┐                                               │
//  │   │   Metal4Renderer    │  ◄── GPU 렌더링 로직                          │
//  │   │ or LegacyRenderer   │                                               │
//  │   └─────────────────────┘                                               │
//  │                                                                         │
//  └─────────────────────────────────────────────────────────────────────────┘
//
//  렌더링 결과:
//  ─────────────────────────────────────────────────────────────────────────
//
//  화면에 다음과 같은 회전하는 삼각형이 표시됩니다:
//
//              빨강 (Red)
//                 ▲
//                ╱ ╲
//               ╱   ╲
//              ╱     ╲
//             ╱       ╲
//            ╱    ●    ╲  ← 중심점 (원점)
//           ╱           ╲
//          ╱             ╲
//         ▼───────────────▼
//    파랑 (Blue)      초록 (Green)
//
//  삼각형은 Y축을 중심으로 계속 회전합니다.
//  세 꼭짓점의 색상이 자연스럽게 그라디언트로 보간됩니다.
//

import SwiftUI

/// 앱의 메인 콘텐츠 뷰
///
/// Metal 4를 사용하여 3D 삼각형을 렌더링하는 `MetalView`를
/// 전체 화면으로 표시합니다.
///
/// ## 기능
///
/// - 왼손 좌표계 (Left-Hand Coordinate System) 사용
/// - 원근 투영 (Perspective Projection) 적용
/// - Y축 중심 자동 회전 애니메이션
/// - RGB 그라디언트 색상의 삼각형
///
/// ## 좌표계 설명
///
/// ```
///       +Y (위)
///        │
///        │
///        │
///        │
///        └──────────── +X (오른쪽)
///       ╱
///      ╱
///     ╱
///    +Z (화면 안쪽)
/// ```
///
/// 왼손 좌표계에서는:
/// - X축 양의 방향: 오른쪽
/// - Y축 양의 방향: 위쪽
/// - Z축 양의 방향: 화면 안쪽 (멀어지는 방향)
///
/// ## 카메라 설정
///
/// - 위치: (0, 0, -3) - 삼각형 앞에 위치
/// - 타겟: (0, 0, 0) - 원점을 바라봄
/// - FOV: 45도
///
/// ## 사용 예시
///
/// ```swift
/// // Metal4RenderApp.swift에서
/// @main
/// struct Metal4RenderApp: App {
///     var body: some Scene {
///         WindowGroup {
///             ContentView()
///         }
///     }
/// }
/// ```
struct ContentView: View {
    /// 뷰 본문
    ///
    /// `MetalView`를 전체 화면으로 표시합니다.
    /// `.ignoresSafeArea()`를 사용하여 노치, 홈 인디케이터 등의
    /// Safe Area를 무시하고 전체 화면을 사용합니다.
    var body: some View {
        MetalView()
            .ignoresSafeArea()
        // ┌─────────────────────────────────────────────────────────────────┐
        // │                                                                 │
        // │   .ignoresSafeArea() 효과:                                      │
        // │                                                                 │
        // │   ┌─ Safe Area 상단 (상태바, 노치) ─┐                            │
        // │   │                                │                            │
        // │   │   ┌────────────────────────┐   │                            │
        // │   │   │                        │   │  ignoresSafeArea() 없이:   │
        // │   │   │     MetalView          │   │  Safe Area 안에서만 렌더링  │
        // │   │   │                        │   │                            │
        // │   │   └────────────────────────┘   │                            │
        // │   │                                │                            │
        // │   └─ Safe Area 하단 (홈 인디케이터) ┘                            │
        // │                                                                 │
        // │   ┌────────────────────────────────┐                            │
        // │   │                                │  ignoresSafeArea() 사용:   │
        // │   │         MetalView              │  전체 화면 렌더링           │
        // │   │                                │                            │
        // │   └────────────────────────────────┘                            │
        // │                                                                 │
        // └─────────────────────────────────────────────────────────────────┘
    }
}

// ════════════════════════════════════════════════════════════════════════════
// MARK: - Preview
// ════════════════════════════════════════════════════════════════════════════

/// Xcode Preview Provider
///
/// Xcode의 Canvas에서 실시간으로 뷰를 미리 볼 수 있게 합니다.
///
/// ## 사용법
///
/// 1. Xcode에서 이 파일을 열기
/// 2. Editor → Canvas 메뉴 또는 Option + Command + Return
/// 3. Canvas에서 실시간 미리보기 확인
///
/// ## 주의사항
///
/// Metal 렌더링은 Preview에서 제한적으로 동작할 수 있습니다.
/// 실제 디바이스나 시뮬레이터에서 테스트하는 것을 권장합니다.
#Preview {
    ContentView()
}
